import{q as A,r as t,W as _,j as e,a as l}from"./app-bBQMqR6O.js";import{C as S}from"./index-Bdzr3ZA9.js";import{R as D}from"./index-DrwY1Ojx.js";import{N as C}from"./notyf.min-DLu_xjpT.js";import{A as P}from"./AdminLayout-BHjzgd9T.js";import{a as $}from"./index-Qvw_WbM9.js";import"./index-CYmrYT0Q.js";import"./Dropdown-BP-MPy4X.js";import"./index-BtE-ENE6.js";const b=new C,I=({data:i})=>{const{props:r}=A(),[d,j]=t.useState([]);t.useEffect(()=>{Array.isArray(r.auth.permissions)&&j(r.auth.permissions)},[r]);const[c,f]=t.useState(""),[n,L]=t.useState(i),[h,m]=t.useState(1),[o]=t.useState(10);t.useEffect(()=>{},[c,i]);const y=s=>{f(s.target.value),m(1)},{delete:N}=_(),g=(s,a)=>{s.preventDefault(),confirm("Are you sure you want to delete this record?")&&N(`/Employee/${a}`,{onSuccess:()=>{b.success("Client deleted successfully!"),location.reload()},onError:()=>{b.error("Failed to delete data.")}})},x=h*o,u=x-o,p=n.slice(u,x),w=Math.ceil(n.length/o),v=Array.from({length:w},(s,a)=>a+1);return e.jsx(P,{children:e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("input",{type:"text",value:c,onChange:y,placeholder:"Search data...",className:"w-[60%] p-2 border border-gray-300 rounded-md"}),r.auth.user.roles[0].name==="admin"||d.includes("create_employee")?e.jsx(l,{href:"Employee/create",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Add Employee"}):"",e.jsx(l,{href:"archiveemployee",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Archive Employee"})]}),e.jsxs("table",{className:"w-full border border-collapse table-auto",children:[e.jsx("thead",{className:"text-white bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"SL No"}),e.jsx("th",{className:"p-3 text-left border",children:"Image"}),e.jsx("th",{className:"p-3 text-left border",children:"Employee Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Address "}),e.jsx("th",{className:"p-3 text-left border",children:"Mobile Number"}),e.jsx("th",{className:"p-3 text-center border",children:"Eamil"}),e.jsx("th",{className:"p-3 text-left border",children:"Action"})]})}),e.jsx("tbody",{children:p.length>0?p.map((s,a)=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-100",children:[e.jsx("td",{className:"p-3 border",children:u+a+1}),e.jsx("td",{className:"p-3 border",children:e.jsx("img",{src:`${s.photo}`,alt:`${s.name}'s photo`,style:{maxWidth:"100px",maxHeight:"100px"}})}),e.jsx("td",{className:"p-3 border",children:s.first_name+" "+s.last_name}),e.jsx("td",{className:"p-3 border",children:s.address}),e.jsx("td",{className:"p-3 border",children:s.mobile_no}),e.jsx("td",{className:"p-3 border",children:s.email}),e.jsx("td",{className:"p-3 text-center border",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[r.auth.user.roles[0].name==="admin"||d.includes("edit_employee")?e.jsx(l,{className:"p-2 text-white bg-green-500 rounded",href:`Employee/${s.user_id}/edit`,children:e.jsx(S,{})}):"",e.jsx(l,{className:"p-2 text-white bg-green-500 rounded",href:`Employee-Archive/${s.user_id}`,children:e.jsx($,{})}),r.auth.user.roles[0].name==="admin"||d.includes("delete_employee")?e.jsx("button",{className:"p-2 text-white bg-red-500 rounded",onClick:E=>g(E,s.user_id),children:e.jsx(D,{})}):""]})})]},s.user_id)):e.jsxs("tr",{children:[e.jsx("td",{colSpan:"18",className:"p-3 text-center",children:"No data found"})," "]})})]}),e.jsx("div",{className:"flex justify-center mt-4",children:v.map(s=>e.jsx("button",{onClick:()=>m(s),className:`px-4 py-2 mx-1 rounded ${h===s?"bg-blue-500 text-white":"bg-gray-200"}`,children:s},s))})]})})};export{I as default};
