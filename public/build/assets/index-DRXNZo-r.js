import{r,W as S,j as e,a as h}from"./app-BV8Hs2DA.js";import{A as D}from"./AdminLayout-7Wm0VRsv.js";import{N as v}from"./notyf.min-DLu_xjpT.js";import"./Dropdown-4iDllGMy.js";import"./index-B8hqPStr.js";import"./index-BfhOz7Dm.js";const m=new v;function F({sales:a}){const[l,u]=r.useState(""),[n,p]=r.useState(a),[c,i]=r.useState(1),[d]=r.useState(10);r.useEffect(()=>{const t=a.filter(s=>s.bill_no.toLowerCase().includes(l.toLowerCase()));p(t)},[l,a]);const f=t=>{u(t.target.value),i(1)},o=c*d,j=o-d,x=n.slice(j,o),b=Math.ceil(n.length/d),N=Array.from({length:b},(t,s)=>s+1),g=t=>t.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),{delete:y}=S();function w(t){event.preventDefault(),confirm("Are you sure you want to delete this sale?")&&y(route("sales.destroy",t),{onSuccess:()=>{m.success("Sales deleted successfully!")},onError:()=>{m.error("Failed to delete sales.")}})}return e.jsx(D,{children:e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("input",{type:"search",value:l,onChange:f,placeholder:"Search data...",className:"w-[60%] p-2 border border-gray-300 rounded-md"}),e.jsx(h,{href:"sales/add",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Add Sales"})]}),e.jsxs("table",{className:"w-full border border-collapse table-auto",children:[e.jsx("thead",{className:"text-white bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"Bill No."}),e.jsx("th",{className:"p-3 text-left border",children:"Customer Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Date"}),e.jsx("th",{className:"p-3 text-left border",children:"Billing Address"}),e.jsx("th",{className:"p-3 text-left border",children:"Status"}),e.jsx("th",{className:"p-3 text-center border",children:"Actions"})]})}),e.jsx("tbody",{children:x&&x.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-3",children:t.bill_no}),e.jsx("td",{className:"p-3",children:t.first_name+" "+t.middle_name+" "+t.last_name}),e.jsx("td",{className:"p-3",children:t.date}),e.jsx("td",{className:"p-3",children:t.billing_address}),e.jsx("td",{className:"p-3",children:g(t.status)}),e.jsxs("td",{className:"p-3 flex gap-1",children:[e.jsx(h,{href:`/sales/${t.id}/edit`,className:"text-sm flex items-center gap-1 font-medium px-2 py-1 bg-blue-500 text-white rounded",children:e.jsx("span",{children:"Edit"})}),e.jsx("button",{type:"button",onClick:()=>w(t.id),className:"text-sm flex items-center gap-1 font-medium px-2 py-1 bg-red-500 text-white rounded",children:e.jsx("span",{children:"Delete"})})]})]},s))})]}),e.jsx("div",{className:"flex justify-center mt-4",children:N.map(t=>e.jsx("button",{onClick:()=>i(t),className:`px-4 py-2 mx-1 rounded ${c===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:t},t))})]})})}export{F as default};
