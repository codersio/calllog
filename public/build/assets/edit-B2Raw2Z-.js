import{W as b,r as h,j as e}from"./app-CwTpoyqh.js";import{N as f}from"./notyf.min-DLu_xjpT.js";import{A as g}from"./AdminLayout-DQmQe51a.js";import"./Dropdown-C_Ing8xx.js";import"./index-DXOuEoXo.js";import"./index-CBtgs9-R.js";const i=new f,w=({category:a,categories:m,service_centers:u})=>{const{data:s,setData:n,put:p,processing:c,errors:r}=b({call_allocation:a.call_allocation||"",customer_name:a.customer_name||"",address:a.address||"",phone_number:a.phone||"",service_partner:a.service_partner_id||"",spare_part_type:a.spare_part_type||"",product_name:a.category_id||"",qty:a.qty||"",model:a.model||"",spare_part_Serial:a.spare_part_ser_no||"",invoice:a.invoice_no||"",dispatch_model:a.dispatch_module||"",dispatch_type:a.dispatch_type||"",date:a.date||""});console.log(a.date),h.useEffect(()=>{},[s.dispatch_model]);const l=t=>{const{name:d,value:o}=t.target;n(d==="dispatch_model"?{...s,dispatch_model:o,dispatch_type:o?o+"-":""}:{...s,[d]:o})},x=t=>{t.preventDefault(),p(`/spare-part/${a.id}`,{onSuccess:()=>{i.success("Product updated successfully!")},onError:()=>{i.error("Failed to update product. Please check your inputs.")}})};return e.jsx(g,{children:e.jsxs("div",{className:"max-w-4xl p-8 mx-auto bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Update Product Category"}),e.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Call Allocation"}),e.jsx("input",{type:"text",name:"call_allocation",value:s.call_allocation,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Call Allocation"}),r.call_allocation&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.call_allocation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Customer Name"}),e.jsx("input",{type:"text",name:"customer_name",value:s.customer_name,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Customer Name"}),r.customer_name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.customer_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Address"}),e.jsx("input",{type:"text",name:"address",value:s.address,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Address"}),r.address&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"text",name:"phone_number",value:s.phone_number,onChange:t=>{const{value:d}=t.target;(d===""||/^\d{0,10}$/.test(d))&&l(t)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Phone Number",maxLength:10}),r.phone_number&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.phone_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner"}),e.jsx("select",{name:"service_partner",value:s.service_partner,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),r.service_partner&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Spare Parts Type"}),e.jsx("input",{type:"text",name:"spare_part_type",value:s.spare_part_type,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Spare Parts Type"}),r.spare_part_type&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.spare_part_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Product Name"}),e.jsx("select",{name:"product_name",value:s.product_name,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),r.product_name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.product_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Qty"}),e.jsx("input",{type:"number",name:"qty",value:s.qty,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Qty"}),r.qty&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.qty})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Model"}),e.jsx("input",{type:"text",name:"model",value:s.model,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Source Of Material"}),r.model&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.model})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Spare Parts Serial Number"}),e.jsx("input",{type:"text",name:"spare_part_Serial",value:s.spare_part_Serial,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Source Of Material"}),r.spare_part_Serial&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.spare_part_Serial})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Invoice Number"}),e.jsx("input",{type:"text",name:"invoice",value:s.invoice,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Invoice No"}),r.invoice&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.invoice})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Dispatch Module"}),e.jsxs("select",{name:"dispatch_model",value:s.dispatch_model,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"--Select--"}),e.jsx("option",{value:"Courier",children:"Courier"}),e.jsx("option",{value:"Bus",children:"Bus"}),e.jsx("option",{value:"Staff",children:"Staff"})]}),r.dispatch_model&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.dispatch_model})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Dispatch Type"}),e.jsx("input",{type:"text",name:"dispatch_type",value:s.dispatch_type,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:""}),r.dispatch_type&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.dispatch_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Date"}),e.jsx("input",{type:"date",name:"date",value:s.date,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Primary contact number"}),r.date&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.date})]}),e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50",children:c?"Processing...":"Update Product Category"})})]})]})})};export{w as default};
