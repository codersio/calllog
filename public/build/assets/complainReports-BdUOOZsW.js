import{q as g,r as j,j as e,a as C}from"./app-CwTpoyqh.js";import{C as D}from"./react-apexcharts.min-Dc6kX-l3.js";import{A as v}from"./AdminLayout-DQmQe51a.js";import{d as N}from"./index-8gYQyaiN.js";import"./Dropdown-C_Ing8xx.js";import"./index-DXOuEoXo.js";import"./index-CBtgs9-R.js";const m={series:[{name:"Complaints",data:[0,0]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[],title:{text:"Complaints Month"}},yaxis:{title:{text:"Number of Complaints"}},fill:{opacity:1},tooltip:{y:{formatter:o=>`${o} complaints`}},colors:["#00C49F"]}},L=({datas:o,clients:p})=>{const l=new Date,c=l.toISOString().split("T")[0],d=new Date(l);d.setFullYear(l.getFullYear()-1);const x=d.toISOString().split("T")[0],{props:n}=g(),[a,u]=j.useState({startDate:n.startDate||x,endDate:n.endDate||c,option:n.option||"All",client:n.client||"All"}),i={...m,series:[{name:"Complaints",data:o.map(t=>t.count)}],options:{...m.options,xaxis:{categories:o.map(t=>t.month)}}},r=t=>{const{name:s,value:f}=t.target;u(b=>({...b,[s]:f}))},h=t=>{t.preventDefault(),N.Inertia.get("/complaint-reports",{startDate:a.startDate,endDate:a.endDate,option:a.option,client:a.client})};return e.jsx(v,{children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Complaints Reports"}),e.jsxs("form",{onSubmit:h,className:"flex flex-wrap items-center w-full mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 px-2 w-1/4",children:e.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:r,className:"border border-gray-300 rounded p-2 w-full"})}),e.jsx("div",{className:"flex items-center gap-2 px-2 w-1/4",children:e.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:r,className:"border border-gray-300 rounded p-2 w-full"})}),e.jsx("div",{className:"px-2 w-1/4",children:e.jsxs("select",{name:"option",value:a.option,onChange:r,className:"border border-gray-300 rounded p-2 w-full",children:[e.jsx("option",{value:"All",children:"All Complaint"}),e.jsx("option",{value:"1",children:"Open Complaint"}),e.jsx("option",{value:"2",children:"Closed Complaint"}),e.jsx("option",{value:"3",children:"Progress Complaint"})]})}),e.jsx("div",{className:"px-2 w-1/4",children:e.jsxs("select",{name:"client",value:a.client,onChange:r,className:"border border-gray-300 rounded p-2 w-full",children:[e.jsx("option",{value:"All",children:"All Customer"}),p&&p.map((t,s)=>e.jsx("option",{value:t.user_id,children:t.first_name+" "+t.middle_name+" "+t.last_name},s))]})}),e.jsxs("div",{className:"p-2 space-x-2",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Go"}),e.jsx(C,{href:"/complaint-reports",className:"bg-zinc-500 text-white py-2.5 px-4 rounded",children:"Reset"})]})]}),e.jsx("p",{className:"text-lg font-medium mb-4",children:`${a.startDate} UNTIL ${a.endDate}: ${i.series[0].data.reduce((t,s)=>t+s,0)} COMPLAINTS`}),e.jsx(D,{options:i.options,series:i.series,type:"bar",height:350})]})})};export{L as default};
