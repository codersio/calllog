import{W as h,r as i,b as c,j as e}from"./app-bBQMqR6O.js";import{N as g}from"./notyf.min-DLu_xjpT.js";import{A as _}from"./AdminLayout-BHjzgd9T.js";import"./Dropdown-BP-MPy4X.js";import"./index-BtE-ENE6.js";import"./index-CYmrYT0Q.js";const o=new g,w=({warranty_no:u,service_centers:m,distribter:x})=>{const{data:t,setData:l,post:b,processing:n,errors:r}=h({warranty_no:u.value,customer_name:"",address:"",phone:"",service_partner:"",pin:"",distributer_name1:"",source_material:"",model:"",purchase:"",sl_no:"",invoice_no:"",invoice_date:"",service_partner_address:"",service_partner_pin:"",service_partner_contact1:"",service_partner_contact2:"",service_partner_pan:"",distributer_name:"",distributer_address:"",distributer_pin:"",distributer_contact1:"",distributer_contact2:"",distributer_pan:""}),s=a=>{l(a.target.name,a.target.value)};i.useEffect(()=>{t.service_partner&&c.get(`/Get-Service/${t.service_partner}`).then(a=>{l({...t,service_partner_address:a.data.address,service_partner_pin:a.data.pin,service_partner_contact2:a.data.con1,service_partner_contact1:a.data.con2,service_partner_pan:a.data.pan})}).catch(a=>{console.error("Failed to fetch service partner details",a)})},[t.service_partner]),i.useEffect(()=>{t.distributer_name1&&c.get(`/Get-Distributer/${t.distributer_name1}`).then(a=>{l({...t,distributer_name:a.data.name,distributer_address:a.data.address,distributer_pin:a.data.pin,distributer_contact1:a.data.con1,distributer_contact2:a.data.con2,distributer_pan:a.data.pan})}).catch(a=>{console.error("Failed to fetch distributor details",a)})},[t.distributer_name1]);const p=a=>{a.preventDefault(),b("/Warranty-Extend",{onSuccess:()=>{o.success("Call Allocation added successfully!")},onError:()=>{o.error("Failed to add call allocation. Please check your inputs.")}})};return e.jsx(_,{children:e.jsxs("div",{className:"max-w-4xl p-8 mx-auto bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Warranty Extend Registration"}),e.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Warranty No"}),e.jsx("input",{type:"text",name:"warranty_no",readOnly:!0,value:t.warranty_no,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter service center's name"}),r.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Customer Name"}),e.jsx("input",{type:"text",name:"customer_name",value:t.customer_name,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Customer Name"}),r.customer_name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.customer_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Customer Address"}),e.jsx("input",{type:"text",name:"address",value:t.address,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Customer Address"}),r.address&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:a=>{const{value:d}=a.target;(d===""||/^\d{0,10}$/.test(d))&&s(a)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Phone Number",maxLength:10}),r.phone&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner"}),e.jsxs("select",{name:"service_partner",value:t.service_partner,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"---Select----"}),m.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),r.service_partner&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Pin"}),e.jsx("input",{type:"text",name:"pin",value:t.pin,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Pin"}),r.pin&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.pin})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner Address"}),e.jsx("input",{type:"text",name:"service_partner_address",value:t.service_partner_address,onChange:s,readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service Partner Address"}),r.service_partner_address&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner_address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner Pin"}),e.jsx("input",{type:"text",readOnly:!0,name:"service_partner_pin",value:t.service_partner_pin,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service Partner Pin"}),r.service_partner_pin&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner_pin})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner Contact No 1"}),e.jsx("input",{type:"text",name:"service_partner_contact1",value:t.service_partner_contact1,onChange:s,readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service Partner Contact No 1"}),r.service_partner_contact1&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner_contact1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner Contact No 2"}),e.jsx("input",{type:"text",readOnly:!0,name:"service_partner_contact2",value:t.service_partner_contact2,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service Partner Conatct No 2"}),r.service_partner_contact2&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner_contact2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Service Partner Pan No"}),e.jsx("input",{type:"text",readOnly:!0,name:"service_partner_pan",value:t.service_partner_pan,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Service Partner Pin"}),r.service_partner_pan&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.service_partner_pan})]}),e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Distributor Details"}),e.jsx("br",{}),e.jsx("hr",{}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"User Name"}),e.jsxs("select",{name:"distributer_name1",value:t.distributer_name1,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"---Select----"}),x.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),r.distributer_name1&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_name1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Distributor Name"}),e.jsx("input",{type:"text",readOnly:!0,name:"distributer_name",value:t.distributer_name,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Distributor Name"}),r.distributer_name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Distributor Address"}),e.jsx("input",{type:"text",readOnly:!0,name:"distributer_address",value:t.distributer_address,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Distributor Address"}),r.distributer_address&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Distributor Pin"}),e.jsx("input",{type:"text",readOnly:!0,name:"distributer_pin",value:t.distributer_pin,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Distributor  Pin"}),r.distributer_pin&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_pin})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Distributor Contatct No 1"}),e.jsx("input",{type:"text",readOnly:!0,name:"distributer_contact1",value:t.distributer_contact1,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Distributor  Conatact No 1"}),r.distributer_contact1&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_contact1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Distributor Contatct No 2"}),e.jsx("input",{type:"text",readOnly:!0,name:"distributer_contact2",value:t.distributer_contact2,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Distributor Contact No 2"}),r.distributer_contact2&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_contact2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Distributor Pan"}),e.jsx("input",{type:"text",readOnly:!0,name:"distributer_pan",value:t.distributer_pan,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Distributor Pan No"}),r.distributer_pan&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.distributer_pan})]}),e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Product Details"})," ",e.jsx("br",{}),e.jsx("hr",{}),e.jsx("hr",{}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Source Of Material"}),e.jsx("input",{type:"text",name:"source_material",value:t.source_material,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Source Of Material"}),r.source_material&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.source_material})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Model Number"}),e.jsx("input",{type:"text",name:"model",value:t.model,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Model Number"}),r.model&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.model})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"SL Number"}),e.jsx("input",{type:"text",name:"sl_no",value:t.sl_no,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Model Number"}),r.sl_no&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.sl_no})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Invoice Number"}),e.jsx("input",{type:"text",name:"invoice_no",value:t.invoice_no,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Model Number"}),r.invoice_no&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.invoice_no})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Date Of Purchase"}),e.jsx("input",{type:"date",name:"purchase",value:t.purchase,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Date Of Purchase"}),r.purchase&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.purchase})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Date Of Invoice"}),e.jsx("input",{type:"date",name:"invoice_date",value:t.invoice_date,onChange:s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Reason"}),r.invoice_date&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.invoice_date})]}),e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50",children:n?"Processing...":"Register"})})]})]})})};export{w as default};
