import{j as e,a as r,r as i,q as w}from"./app-CwTpoyqh.js";import{I as u,z as y,A as k,B as F,C,F as B,D as A,E as M}from"./index-DXOuEoXo.js";import{G as h,F as H}from"./index-CBtgs9-R.js";import{b as E}from"./index-C8Prn04T.js";import{f as L,g as f}from"./index-DwEyoyjJ.js";function S({active:l=!1,className:s="",children:d,...n}){return e.jsx(r,{...n,className:`w-full flex items-start  text-[0.9rem]  text-[0.9rem]  font-medium focus:outline-none transition duration-150 ease-in-out ${s}`,children:d})}function z(l){return h({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",x2:"9",y1:"12",y2:"12"},child:[]}]})(l)}const T=({user:l,notif:s})=>{const[d,n]=i.useState(!1),[p,a]=i.useState(!1),[o,j]=i.useState(0),x=i.useRef(null),m=i.useRef(null);i.useEffect(()=>{const t=(s==null?void 0:s.filter(c=>!c.read_at).length)||0;j(t)},[s]);const v=async t=>{try{await axios.post(`readta/${t}`),j(c=>Math.max(c-1,0))}catch(c){console.error("Error marking notification as read",c)}};i.useEffect(()=>{const t=c=>{x.current&&!x.current.contains(c.target)&&m.current&&!m.current.contains(c.target)&&(a(!1),n(!1))};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const g=t=>{t.stopPropagation(),n(c=>!c),a(!1)},b=t=>{t.stopPropagation(),a(c=>!c),n(!1)};return e.jsx("div",{className:"w-[100%] bg-[#fff] shadow-md p-2",children:e.jsx("div",{className:"flex justify-end p-2 nav header",children:e.jsxs("div",{className:"flex space-x-7",children:[e.jsxs("div",{className:"grid place-items-center",children:[e.jsxs("button",{className:"relative",onClick:g,children:[e.jsx(u,{className:`text-[1.5rem] ${o>0,""}`}),o>0&&e.jsx("span",{className:"absolute top-0 w-4 h-4 text-[0.6rem] text-white bg-red-500 border border-white rounded-full right-1 grid place-items-center",children:o})]}),e.jsx("div",{ref:m,className:`fixed top-0 z-30 right-0 border flex justify-end border-gray-300 w-full h-full bg-black/60 transition-all duration-300 ${d?"opacity-100 pointer-events-auto":"opacity-0 delay-300 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-white scrollbar-thumb-sky-700 scrollbar-track-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),e.jsx("button",{onClick:g,children:e.jsx(H,{size:16})})]}),e.jsx("div",{className:"h-[30rem] w-[20rem] space-y-3 overflow-y-scroll bg-white scrollbar-thin scrollbar-thumb-sky-700 scrollbar-track-white",children:s==null?void 0:s.map(t=>e.jsxs("a",{onClick:()=>v(t.id),href:t.data.url,className:"flex items-center w-full p-2.5 gap-x-4 hover:bg-gray-100 shadow-md shadow-gray-200 rounded",children:[e.jsx("div",{className:"border border-gray-200 p-1.5 rounded-full",children:e.jsx(E,{size:18,className:"text-green-500"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.data.project}),e.jsx("span",{className:"font-semibold text-blue-500",children:t.data.employee_id}),e.jsx("span",{className:"text-sm text-gray-700",children:t.data.message})]}),!t.read_at&&e.jsx("span",{className:"bg-red-500 w-1.5 h-1.5 rounded-full ml-auto"})]},t.id))}),e.jsx("div",{className:"p-5",children:e.jsxs(r,{href:"/notifications-get",className:"flex items-center justify-center w-full py-2 text-sm text-center text-white bg-blue-500 rounded",children:[e.jsx(u,{className:"text-[1.5rem]"}),e.jsx("span",{children:"See All Notifications"})]})})]})})]}),e.jsxs("div",{className:"flex space-x-2 cursor-pointer",onClick:b,children:[e.jsx("span",{className:"grid place-items-center",children:e.jsx(y,{className:"text-[1.5rem]"})}),e.jsx("span",{className:"text-[1rem]",children:l})]}),e.jsx("div",{className:"relative grid place-items-center",children:e.jsx("div",{ref:x,className:`absolute top-full p-4 -right-5 my-5 border border-gray-300 rounded w-[10rem] bg-white shadow-lg transition-all duration-300 shadow-zinc-800/50 ${p?"opacity-100 pointer-events-auto translate-y-0":"opacity-0 pointer-events-none translate-y-14"}`,children:e.jsxs("div",{children:[e.jsxs("li",{className:"p-2 text-black list-none flex space-x-2",children:[e.jsx("span",{className:"grid place-items-center",children:e.jsx(k,{})}),e.jsx("span",{children:e.jsx(r,{href:"/profile",children:"Profile"})})]}),e.jsx("li",{className:"p-2 text-black list-none",children:e.jsxs(S,{method:"post",href:route("logout"),as:"button",className:"flex space-x-2",children:[e.jsx("span",{className:"grid mt-1 place-items-center",children:e.jsx(z,{})}),e.jsx("span",{children:"Log Out"})]})})]})})})]})})})};function N(l){return h({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 3.75C2 2.784 2.784 2 3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H9.75a.75.75 0 0 1 0-1.5h10.5a.25.25 0 0 0 .25-.25V9h-17v3A.75.75 0 0 1 2 12ZM9 7.5h11.5V3.75a.25.25 0 0 0-.25-.25H9Zm-5.5 0h4v-4H3.75a.25.25 0 0 0-.25.25Z"},child:[]},{tag:"path",attr:{d:"m9.308 14.5-2.104-2.236a.75.75 0 1 1 1.092-1.028l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.75.75 0 1 1-1.092-1.028L9.308 16H6.09a2.59 2.59 0 0 0-2.59 2.59v2.66a.75.75 0 0 1-1.5 0v-2.66a4.09 4.09 0 0 1 4.09-4.09h3.218Z"},child:[]}]})(l)}function P(l){return h({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFCDD2",d:"M5,38V14h38v24c0,2.2-1.8,4-4,4H9C6.8,42,5,40.2,5,38z"},child:[]},{tag:"path",attr:{fill:"#F44336",d:"M43,10v6H5v-6c0-2.2,1.8-4,4-4h30C41.2,6,43,7.8,43,10z"},child:[]},{tag:"g",attr:{fill:"#B71C1C"},child:[{tag:"circle",attr:{cx:"33",cy:"10",r:"3"},child:[]},{tag:"circle",attr:{cx:"15",cy:"10",r:"3"},child:[]}]},{tag:"g",attr:{fill:"#BDBDBD"},child:[{tag:"path",attr:{d:"M33,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C35,3.9,34.1,3,33,3z"},child:[]},{tag:"path",attr:{d:"M15,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C17,3.9,16.1,3,15,3z"},child:[]}]},{tag:"path",attr:{fill:"#F44336",d:"M22.2,35.3c0-0.2,0-0.5,0.1-0.7c0.1-0.2,0.2-0.4,0.4-0.5s0.3-0.3,0.5-0.3c0.2-0.1,0.5-0.1,0.7-0.1 s0.5,0,0.7,0.1c0.2,0.1,0.4,0.2,0.6,0.3s0.3,0.3,0.4,0.5c0.1,0.2,0.1,0.4,0.1,0.7c0,0.2,0,0.5-0.1,0.7c-0.1,0.2-0.2,0.4-0.4,0.5 c-0.2,0.1-0.3,0.3-0.6,0.3S24.3,37,24,37s-0.5,0-0.7-0.1c-0.2-0.1-0.4-0.2-0.5-0.3c-0.2-0.1-0.3-0.3-0.4-0.5 C22.3,35.8,22.2,35.6,22.2,35.3z M25.3,31h-2.6l-0.4-11h3.3L25.3,31z"},child:[]}]})(l)}const $=({user_type:l})=>{const[s,d]=i.useState([]),[n,p]=i.useState(!0),{url:a,component:o}=w();return i.useEffect(()=>{Array.isArray(l)?d(l):console.error("Expected user_type to be an array:",l)},[l]),e.jsx("nav",{className:"grid p-5 w-full place-items-center ",children:e.jsx("div",{className:n?"modal menu fixed transition delay-700 block duration-700 ease-in shadow-md bg-white  w-[15%] justify-end slide-right-to-left  left-0 bottom-0 top-0":"modal menu absolute hidden bg-gray-800  w-[10rem] duration-700 ease-in-out delay-700 justify-end    bottom-0 top-0",children:e.jsxs("ul",{children:[e.jsx("div",{className:"p-2 logo",children:e.jsx("img",{src:"/SCS-01-removebg-preview.png",alt:"Description",className:"w-[85%]"})}),e.jsx("li",{className:a==="/dashboard"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/dashboard",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(F,{})," "]})," ",e.jsx("span",{children:"Dashboard"})]})}),s.includes("view_employee")?e.jsx("li",{className:a==="/employees"?"active bg-[#0A1B3F] p-2 mt-3    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/employees",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(C,{})})," ",e.jsx("span",{className:"grid place-items-center",children:"Employees"})]})}):"",s.includes("view_project")&&e.jsx("li",{className:a==="/projects"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/projects",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(N,{})," "]})," ",e.jsx("span",{children:"Projects"})]})}),s.includes("view_project")&&e.jsx("li",{className:a==="/assign-employeeproject"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/assign-employeeproject",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(N,{})," "]})," ",e.jsx("span",{children:"Projects Assigned"})]})}),s.includes("view_task")&&e.jsx("li",{className:a==="/projects-task"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/projects-task",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(B,{})}),e.jsx("span",{children:" Task"})]})}),e.jsx("li",{className:a==="/daily-status"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/daily-status",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(A,{})," "]})," ",e.jsx("span",{children:"TimeSheet"})]})}),s.includes("view_leave")&&e.jsx("li",{className:a==="/leave-index"?"active bg-[#0A1B3F] p-2   text-[0.7rem] text-white":" p-2   text-black text-[0.9rem]",children:e.jsxs(r,{href:"/leave-index",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(P,{})," "]})," ",e.jsx("span",{children:"Leave"})," "]})}),s.includes("view_holiday")&&e.jsx("li",{className:a==="/holi-day"?"active bg-[#0A1B3F] p-2  text-[0.9rem] text-white":" p-2   text-black text-[0.9rem]",children:e.jsxs(r,{href:"/holi-day",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx("span",{className:"grid place-items-center",children:e.jsx(L,{})})})," ",e.jsx("span",{children:" Holiday "})," "]})}),s.includes("view_role")&&e.jsx("li",{className:a==="/roles-permission-details"?"active bg-[#0A1B3F] p-2 px-5 text-[0.9rem] text-white":" p-2    text-black text-[0.9rem]",children:e.jsxs(r,{href:"/roles-permission-details",className:"flex space-x-2",children:[" ",e.jsxs("span",{children:[" ",e.jsx(M,{})]})," ",e.jsx("span",{children:"Roles"})," "]})}),s.includes("view_report")&&e.jsx("li",{className:a==="/reports-get"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/reports-get",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(f,{})})," ",e.jsx("span",{children:"Report"})]})}),s.includes("view_employee")&&e.jsx("li",{className:a==="/assign-employee"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(r,{href:"/assign-employee",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(f,{})})," ",e.jsx("span",{children:"Employee hours"})]})})]})})})};export{T as H,$ as N};
