import{r as i,j as e,a as l,q as w}from"./app-bBQMqR6O.js";import{I as g,p as y,A as k,R as F,L as C,B,C as A,F as M,D as E,E as H}from"./index-BtE-ENE6.js";import{b as S}from"./index-Qvw_WbM9.js";import{F as L,G as N}from"./index-CYmrYT0Q.js";import{f as R,g as u}from"./index-D7YjxNV2.js";const V=({user:c,notif:a})=>{const[o,n]=i.useState(!1),[h,t]=i.useState(!1),[d,p]=i.useState(0),x=i.useRef(null),m=i.useRef(null);i.useEffect(()=>{const s=(a==null?void 0:a.filter(r=>!r.read_at).length)||0;p(s)},[a]);const v=async s=>{try{await axios.post(`readta/${s}`),p(r=>Math.max(r-1,0))}catch(r){console.error("Error marking notification as read",r)}};i.useEffect(()=>{const s=r=>{x.current&&!x.current.contains(r.target)&&m.current&&!m.current.contains(r.target)&&(t(!1),n(!1))};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const j=s=>{s.stopPropagation(),n(r=>!r),t(!1)},b=s=>{s.stopPropagation(),t(r=>!r),n(!1)};return e.jsx("div",{className:"w-[100%] bg-[#fff] shadow-md p-2",children:e.jsx("div",{className:"flex justify-end p-2 nav header",children:e.jsxs("div",{className:"flex space-x-7",children:[e.jsxs("div",{className:"grid place-items-center",children:[e.jsxs("button",{className:"relative",onClick:j,children:[e.jsx(g,{className:`text-[1.5rem] ${d>0,""}`}),d>0&&e.jsx("span",{className:"absolute top-0 w-4 h-4 text-[0.6rem] text-white bg-red-500 border border-white rounded-full right-1 grid place-items-center",children:d})]}),e.jsx("div",{ref:m,className:`fixed top-0 z-30 right-0 border flex justify-end border-gray-300 w-full h-full bg-black/60 transition-all duration-300 ${o?"opacity-100 pointer-events-auto":"opacity-0 delay-300 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-white scrollbar-thumb-sky-700 scrollbar-track-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),e.jsx("button",{onClick:j,children:e.jsx(L,{size:16})})]}),e.jsx("div",{className:"h-[30rem] w-[20rem] space-y-3 overflow-y-scroll bg-white scrollbar-thin scrollbar-thumb-sky-700 scrollbar-track-white",children:a==null?void 0:a.map(s=>e.jsxs("a",{onClick:()=>v(s.id),href:s.data.url,className:"flex items-center w-full p-2.5 gap-x-4 hover:bg-gray-100 shadow-md shadow-gray-200 rounded",children:[e.jsx("div",{className:"border border-gray-200 p-1.5 rounded-full",children:e.jsx(S,{size:18,className:"text-green-500"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:s.data.project}),e.jsx("span",{className:"font-semibold text-blue-500",children:s.data.employee_id}),e.jsx("span",{className:"text-sm text-gray-700",children:s.data.message})]}),!s.read_at&&e.jsx("span",{className:"bg-red-500 w-1.5 h-1.5 rounded-full ml-auto"})]},s.id))}),e.jsx("div",{className:"p-5",children:e.jsxs(l,{href:"/notifications-get",className:"flex items-center justify-center w-full py-2 text-sm text-center text-white bg-blue-500 rounded",children:[e.jsx(g,{className:"text-[1.5rem]"}),e.jsx("span",{children:"See All Notifications"})]})})]})})]}),e.jsxs("div",{className:"flex space-x-2 cursor-pointer",onClick:b,children:[e.jsx("span",{className:"grid place-items-center",children:e.jsx(y,{className:"text-[1.5rem]"})}),e.jsx("span",{className:"text-[1rem]",children:c})]}),e.jsx("div",{className:"relative grid place-items-center",children:e.jsx("div",{ref:x,className:`absolute top-full p-4 -right-5 my-5 border border-gray-300 rounded w-[10rem] bg-white shadow-lg transition-all duration-300 shadow-zinc-800/50 ${h?"opacity-100 pointer-events-auto translate-y-0":"opacity-0 pointer-events-none translate-y-14"}`,children:e.jsxs("div",{children:[e.jsxs("li",{className:"p-2 text-black list-none flex space-x-2",children:[e.jsx("span",{className:"grid place-items-center",children:e.jsx(k,{})}),e.jsx("span",{children:e.jsx(l,{href:"/profile",children:"Profile"})})]}),e.jsx("li",{className:"p-2 text-black list-none",children:e.jsxs(F,{method:"post",href:route("logout"),as:"button",className:"flex space-x-2",children:[e.jsx("span",{className:"grid mt-1 place-items-center",children:e.jsx(C,{})}),e.jsx("span",{children:"Log Out"})]})})]})})})]})})})};function f(c){return N({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 3.75C2 2.784 2.784 2 3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H9.75a.75.75 0 0 1 0-1.5h10.5a.25.25 0 0 0 .25-.25V9h-17v3A.75.75 0 0 1 2 12ZM9 7.5h11.5V3.75a.25.25 0 0 0-.25-.25H9Zm-5.5 0h4v-4H3.75a.25.25 0 0 0-.25.25Z"},child:[]},{tag:"path",attr:{d:"m9.308 14.5-2.104-2.236a.75.75 0 1 1 1.092-1.028l3.294 3.5a.75.75 0 0 1 0 1.028l-3.294 3.5a.75.75 0 1 1-1.092-1.028L9.308 16H6.09a2.59 2.59 0 0 0-2.59 2.59v2.66a.75.75 0 0 1-1.5 0v-2.66a4.09 4.09 0 0 1 4.09-4.09h3.218Z"},child:[]}]})(c)}function z(c){return N({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFCDD2",d:"M5,38V14h38v24c0,2.2-1.8,4-4,4H9C6.8,42,5,40.2,5,38z"},child:[]},{tag:"path",attr:{fill:"#F44336",d:"M43,10v6H5v-6c0-2.2,1.8-4,4-4h30C41.2,6,43,7.8,43,10z"},child:[]},{tag:"g",attr:{fill:"#B71C1C"},child:[{tag:"circle",attr:{cx:"33",cy:"10",r:"3"},child:[]},{tag:"circle",attr:{cx:"15",cy:"10",r:"3"},child:[]}]},{tag:"g",attr:{fill:"#BDBDBD"},child:[{tag:"path",attr:{d:"M33,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C35,3.9,34.1,3,33,3z"},child:[]},{tag:"path",attr:{d:"M15,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C17,3.9,16.1,3,15,3z"},child:[]}]},{tag:"path",attr:{fill:"#F44336",d:"M22.2,35.3c0-0.2,0-0.5,0.1-0.7c0.1-0.2,0.2-0.4,0.4-0.5s0.3-0.3,0.5-0.3c0.2-0.1,0.5-0.1,0.7-0.1 s0.5,0,0.7,0.1c0.2,0.1,0.4,0.2,0.6,0.3s0.3,0.3,0.4,0.5c0.1,0.2,0.1,0.4,0.1,0.7c0,0.2,0,0.5-0.1,0.7c-0.1,0.2-0.2,0.4-0.4,0.5 c-0.2,0.1-0.3,0.3-0.6,0.3S24.3,37,24,37s-0.5,0-0.7-0.1c-0.2-0.1-0.4-0.2-0.5-0.3c-0.2-0.1-0.3-0.3-0.4-0.5 C22.3,35.8,22.2,35.6,22.2,35.3z M25.3,31h-2.6l-0.4-11h3.3L25.3,31z"},child:[]}]})(c)}const I=({user_type:c})=>{const[a,o]=i.useState([]),[n,h]=i.useState(!0),{url:t,component:d}=w();return i.useEffect(()=>{Array.isArray(c)?o(c):console.error("Expected user_type to be an array:",c)},[c]),e.jsx("nav",{className:"grid p-5 w-full place-items-center ",children:e.jsx("div",{className:n?"modal menu fixed transition delay-700 block duration-700 ease-in shadow-md bg-white  w-[15%] justify-end slide-right-to-left  left-0 bottom-0 top-0":"modal menu absolute hidden bg-gray-800  w-[10rem] duration-700 ease-in-out delay-700 justify-end    bottom-0 top-0",children:e.jsxs("ul",{children:[e.jsx("div",{className:"p-2 logo",children:e.jsx("img",{src:"/SCS-01-removebg-preview.png",alt:"Description",className:"w-[85%]"})}),e.jsx("li",{className:t==="/dashboard"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/dashboard",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(B,{})," "]})," ",e.jsx("span",{children:"Dashboard"})]})}),a.includes("view_employee")?e.jsx("li",{className:t==="/employees"?"active bg-[#0A1B3F] p-2 mt-3    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/employees",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(A,{})})," ",e.jsx("span",{className:"grid place-items-center",children:"Employees"})]})}):"",a.includes("view_project")&&e.jsx("li",{className:t==="/projects"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/projects",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(f,{})," "]})," ",e.jsx("span",{children:"Projects"})]})}),a.includes("view_project")&&e.jsx("li",{className:t==="/assign-employeeproject"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/assign-employeeproject",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(f,{})," "]})," ",e.jsx("span",{children:"Projects Assigned"})]})}),a.includes("view_task")&&e.jsx("li",{className:t==="/projects-task"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/projects-task",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(M,{})}),e.jsx("span",{children:" Task"})]})}),e.jsx("li",{className:t==="/daily-status"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/daily-status",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(E,{})," "]})," ",e.jsx("span",{children:"TimeSheet"})]})}),a.includes("view_leave")&&e.jsx("li",{className:t==="/leave-index"?"active bg-[#0A1B3F] p-2   text-[0.7rem] text-white":" p-2   text-black text-[0.9rem]",children:e.jsxs(l,{href:"/leave-index",className:"flex space-x-2",children:[" ",e.jsxs("span",{className:"grid place-items-center",children:[" ",e.jsx(z,{})," "]})," ",e.jsx("span",{children:"Leave"})," "]})}),a.includes("view_holiday")&&e.jsx("li",{className:t==="/holi-day"?"active bg-[#0A1B3F] p-2  text-[0.9rem] text-white":" p-2   text-black text-[0.9rem]",children:e.jsxs(l,{href:"/holi-day",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx("span",{className:"grid place-items-center",children:e.jsx(R,{})})})," ",e.jsx("span",{children:" Holiday "})," "]})}),a.includes("view_role")&&e.jsx("li",{className:t==="/roles-permission-details"?"active bg-[#0A1B3F] p-2 px-5 text-[0.9rem] text-white":" p-2    text-black text-[0.9rem]",children:e.jsxs(l,{href:"/roles-permission-details",className:"flex space-x-2",children:[" ",e.jsxs("span",{children:[" ",e.jsx(H,{})]})," ",e.jsx("span",{children:"Roles"})," "]})}),a.includes("view_report")&&e.jsx("li",{className:t==="/reports-get"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/reports-get",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(u,{})})," ",e.jsx("span",{children:"Report"})]})}),a.includes("view_employee")&&e.jsx("li",{className:t==="/assign-employee"?"active bg-[#0A1B3F] p-2    text-[0.9rem] text-white":" p-2  text-black text-[0.9rem]",children:e.jsxs(l,{href:"/assign-employee",className:"flex space-x-2",children:[" ",e.jsx("span",{className:"grid place-items-center",children:e.jsx(u,{})})," ",e.jsx("span",{children:"Employee hours"})]})})]})})})};export{V as H,I as N};
