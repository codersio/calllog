import{W as x,r as b,j as e}from"./app-CwTpoyqh.js";import{N as p}from"./notyf.min-DLu_xjpT.js";import{A as g}from"./AdminLayout-DQmQe51a.js";import"./Dropdown-C_Ing8xx.js";import"./index-DXOuEoXo.js";import"./index-CBtgs9-R.js";const c=new p,w=({product:s,categories:d})=>{const{data:a,setData:n,put:i,processing:o,errors:r,reset:u}=x({category_id:s.category_id||"",model:s.model||"",source:s.source||"",qty:s.qty||"",purchase:s.purchase_date||"",invoice:s.invoice_no||""}),l=t=>{n(t.target.name,t.target.value)},m=t=>{t.preventDefault(),i(`/products/${s.id}`,{onSuccess:()=>{c.success("Product updated successfully!")},onError:()=>{c.error("Failed to update product. Please check your inputs.")}})};return b.useEffect(()=>{u({category_id:s.category_id,model:s.model,source:s.source,qty:s.qty,purchase:s.purchase,invoice:s.invoice})},[s]),e.jsx(g,{children:e.jsxs("div",{className:"max-w-4xl p-8 mx-auto bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Update Product"}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Product"}),e.jsxs("select",{name:"category_id",value:a.category_id,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select a parent category"}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),r.category_id&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Model"}),e.jsx("input",{type:"text",name:"model",value:a.model,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Model"}),r.model&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.model})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Source Of Material"}),e.jsx("input",{type:"text",name:"source",value:a.source,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Source Of Material"}),r.source&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.source})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Quantity"}),e.jsx("input",{type:"number",name:"qty",value:a.qty,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Quantity"}),r.qty&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.qty})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Date Of Purchase"}),e.jsx("input",{type:"date",name:"purchase",value:a.purchase,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),r.purchase&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.purchase})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Invoice Number"}),e.jsx("input",{type:"text",name:"invoice",value:a.invoice,onChange:l,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter Invoice Number"}),r.invoice&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r.invoice})]}),e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50",children:o?"Processing...":"Update Product"})})]})]})})};export{w as default};
