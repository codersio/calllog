import{q as j,r as g,j as e,a as D}from"./app-BV8Hs2DA.js";import{C as v}from"./react-apexcharts.min-CNHxq7Gg.js";import{A as S}from"./AdminLayout-7Wm0VRsv.js";import{d as N}from"./index-D3289Gmk.js";import"./Dropdown-4iDllGMy.js";import"./index-B8hqPStr.js";import"./index-BfhOz7Dm.js";const c={series:[{name:"Sales",data:[0,0]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[],title:{text:"Sales Month"}},yaxis:{title:{text:"Number of Sales"}},fill:{opacity:1},tooltip:{y:{formatter:r=>`${r} sales`}},colors:["#FF4560"]}},L=({datas:r,clients:d})=>{const o=new Date,m=o.toISOString().split("T")[0],p=new Date(o);p.setFullYear(o.getFullYear()-1);const u=p.toISOString().split("T")[0],{props:l}=j(),[a,x]=g.useState({startDate:l.startDate||u,endDate:l.endDate||m,option:l.option||"All",client:l.client||"All"}),i={...c,series:[{name:"Sales",data:r.map(t=>t.count)}],options:{...c.options,xaxis:{categories:r.map(t=>t.month)}}},n=t=>{const{name:s,value:f}=t.target;x(b=>({...b,[s]:f}))},h=t=>{t.preventDefault(),N.Inertia.get("/sales-reports",{startDate:a.startDate,endDate:a.endDate,option:a.option,client:a.client})};return e.jsx(S,{children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Sales Reports"}),e.jsxs("form",{onSubmit:h,className:"flex flex-wrap items-center w-full mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 px-2 w-1/4",children:e.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:n,className:"border border-gray-300 rounded p-2 w-full"})}),e.jsx("div",{className:"flex items-center gap-2 px-2 w-1/4",children:e.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:n,className:"border border-gray-300 rounded p-2 w-full"})}),e.jsx("div",{className:"px-2 w-1/4",children:e.jsxs("select",{name:"option",value:a.option,onChange:n,className:"border border-gray-300 rounded p-2 w-full",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"unpaid",children:"Unpaid"}),e.jsx("option",{value:"half_paid",children:"Half Paid"}),e.jsx("option",{value:"full_paid",children:"Full Paid"})]})}),e.jsx("div",{className:"px-2 w-1/4",children:e.jsxs("select",{name:"client",value:a.client,onChange:n,className:"border border-gray-300 rounded p-2 w-full",children:[e.jsx("option",{value:"All",children:"All Customers"}),d&&d.map((t,s)=>e.jsx("option",{value:t.user_id,children:t.first_name+" "+t.middle_name+" "+t.last_name},s))]})}),e.jsxs("div",{className:"p-2 space-x-2",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Go"}),e.jsx(D,{href:"/sales-reports",className:"bg-zinc-500 text-white py-2.5 px-4 rounded",children:"Reset"})]})]}),e.jsx("p",{className:"text-lg font-medium mb-4",children:`${a.startDate} UNTIL ${a.endDate}: ${i.series[0].data.reduce((t,s)=>t+s,0)} SALES`}),e.jsx(v,{options:i.options,series:i.series,type:"bar",height:350})]})})};export{L as default};
