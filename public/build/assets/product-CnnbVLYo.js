import{r as s,W as w,j as e,a as x}from"./app-CwTpoyqh.js";import{C as v}from"./index-DKlx98bH.js";import{R as D}from"./index-bxi0VpGJ.js";import{N as S}from"./notyf.min-DLu_xjpT.js";import{A as C}from"./AdminLayout-DQmQe51a.js";import"./index-CBtgs9-R.js";import"./Dropdown-C_Ing8xx.js";import"./index-DXOuEoXo.js";const u=new S,R=({data:a})=>{const[c,m]=s.useState(""),[l,p]=s.useState(a),[o,n]=s.useState(1),[d]=s.useState(10);s.useEffect(()=>{const t=a.filter(r=>r.category_name.toLowerCase().includes(c.toLowerCase()));p(t)},[c,a]);const j=t=>{m(t.target.value),n(1)},{delete:b}=w(),f=(t,r)=>{t.preventDefault(),confirm("Are you sure you want to delete this record?")&&b(`/products/${r}`,{onSuccess:()=>{u.success("Product  deleted successfully!")},onError:()=>{u.error("Failed to delete data.")}})},i=o*d,N=i-d,h=l.slice(N,i),g=Math.ceil(l.length/d),y=Array.from({length:g},(t,r)=>r+1);return e.jsx(C,{children:e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("input",{type:"text",value:c,onChange:j,placeholder:"Search data...",className:"w-[60%] p-2 border border-gray-300 rounded-md"}),e.jsx(x,{href:"products/create",className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Add Project"})]}),e.jsxs("table",{className:"w-full border border-collapse table-auto",children:[e.jsx("thead",{className:"text-white bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left border",children:"Name"}),e.jsx("th",{className:"p-3 text-left border",children:"Model"}),e.jsx("th",{className:"p-3 text-left border",children:"Source Of Material	"}),e.jsx("th",{className:"p-3 text-left border",children:"Quantity"}),e.jsx("th",{className:"p-3 text-center border",children:"Date Of Purchase"}),e.jsx("th",{className:"p-3 text-center border",children:"Invoice Number	"}),e.jsx("th",{className:"p-3 text-center border",children:"Action"})]})}),e.jsx("tbody",{children:h.length>0?h.map(t=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-100",children:[e.jsx("td",{className:"p-3 border",children:t.category_name}),e.jsx("td",{className:"p-3 border",children:t.model}),e.jsx("td",{className:"p-3 border",children:t.source}),e.jsx("td",{className:"p-3 border",children:t.qty}),e.jsx("td",{className:"p-3 border",children:t.purchase_date}),e.jsx("td",{className:"p-3 border",children:t.invoice_no}),e.jsx("td",{className:"p-3 text-center border",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(x,{className:"p-2 text-white bg-green-500 rounded",href:`products/${t.id}/edit`,children:e.jsx(v,{})}),e.jsx("button",{className:"p-2 text-white bg-red-500 rounded",onClick:r=>f(r,t.id),children:e.jsx(D,{})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"p-3 text-center",children:"No data found"})})})]}),e.jsx("div",{className:"flex justify-center mt-4",children:y.map(t=>e.jsx("button",{onClick:()=>n(t),className:`px-4 py-2 mx-1 rounded ${o===t?"bg-blue-500 text-white":"bg-gray-200"}`,children:t},t))})]})})};export{R as default};
