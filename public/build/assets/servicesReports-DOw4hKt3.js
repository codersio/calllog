import{q as b,r as g,j as e,a as j}from"./app-bBQMqR6O.js";import{C as D}from"./react-apexcharts.min-CIB9rcgf.js";import{A as S}from"./AdminLayout-BHjzgd9T.js";import{d as N}from"./index-BUrNszlx.js";import"./Dropdown-BP-MPy4X.js";import"./index-BtE-ENE6.js";import"./index-CYmrYT0Q.js";const p={series:[{name:"Services",data:[0,0]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[],title:{text:"Services Month"}},yaxis:{title:{text:"Number of Services"}},fill:{opacity:1},tooltip:{y:{formatter:r=>`${r} services`}},colors:["#008FFB"]}},E=({datas:r,clients:d})=>{const i=new Date,m=i.toISOString().split("T")[0],c=new Date(i);c.setFullYear(i.getFullYear()-1);const u=c.toISOString().split("T")[0],{props:o}=b(),[a,x]=g.useState({startDate:o.startDate||u,endDate:o.endDate||m,option:o.option||"All",client:o.client||"All"}),l={...p,series:[{name:"Services",data:r.map(t=>t.count)}],options:{...p.options,xaxis:{categories:r.map(t=>t.month)}}},n=t=>{const{name:s,value:f}=t.target;x(v=>({...v,[s]:f}))},h=t=>{t.preventDefault(),N.Inertia.get("/service-reports",{startDate:a.startDate,endDate:a.endDate,option:a.option,client:a.client})};return e.jsx(S,{children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Service Reports"}),e.jsxs("form",{onSubmit:h,className:"flex flex-wrap items-center w-full mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 px-2 w-1/4",children:e.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:n,className:"border border-gray-300 rounded p-2 w-full"})}),e.jsx("div",{className:"flex items-center gap-2 px-2 w-1/4",children:e.jsx("input",{type:"date",name:"endDate",value:a.endDate,onChange:n,className:"border border-gray-300 rounded p-2 w-full"})}),e.jsx("div",{className:"px-2 w-1/4",children:e.jsxs("select",{name:"option",value:a.option,onChange:n,className:"border border-gray-300 rounded p-2 w-full",children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Close"})]})}),e.jsx("div",{className:"px-2 w-1/4",children:e.jsxs("select",{name:"client",value:a.client,onChange:n,className:"border border-gray-300 rounded p-2 w-full",children:[e.jsx("option",{value:"All",children:"All Customers"}),d&&d.map((t,s)=>e.jsx("option",{value:t.user_id,children:t.first_name+" "+t.middle_name+" "+t.last_name},s))]})}),e.jsxs("div",{className:"p-2 space-x-2",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Go"}),e.jsx(j,{href:"/service-reports",className:"bg-zinc-500 text-white py-2.5 px-4 rounded",children:"Reset"})]})]}),e.jsx("p",{className:"text-lg font-medium mb-4",children:`${a.startDate} UNTIL ${a.endDate}: ${l.series[0].data.reduce((t,s)=>t+s,0)} SERVICES`}),e.jsx(D,{options:l.options,series:l.series,type:"bar",height:350})]})})};export{E as default};
